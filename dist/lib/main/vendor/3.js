(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{21:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=i(n),a=i(r(72));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return r=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.render=function(){return o.default.createElement("div",{className:"Display"},o.default.createElement(a.default,{isEdit:!1}))},l(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();t.default=u},72:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(90),_reactGridLayout=__webpack_require__(92),_reactGridLayout2=_interopRequireDefault(_reactGridLayout);__webpack_require__(97),__webpack_require__(98);var _Shell=__webpack_require__(74),_Shell2=_interopRequireDefault(_Shell);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Grid=function(_Component){function Grid(props){_classCallCheck(this,Grid);var _this=_possibleConstructorReturn(this,(Grid.__proto__||Object.getPrototypeOf(Grid)).call(this,props));return _this.componentDidMount=function(){_this.loadLayout(function(){var layout=_this.state.layout,pathArr=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=layout[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var item=_step.value,path=item.path,type=item.type;"iframe"!=type&&pathArr.push("import('"+path+"')")}}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}pathArr="["+pathArr.toString()+"]",Promise.all(eval(""+pathArr)).then(function(e){for(var t=0;t<e.length;t++){var r=e[t].TestModule,n=layout[t].i,o=new r(_this[n]),a=o._moduleOnMount;a&&a.call(o)}})})},_this.loadLayout=function(e){fetch("../../../mock/layoutDatas.json").then(function(e){return e.json()}).then(function(t){var r=t.layout;_this.setState({layout:r},function(){return e&&e()})})},_this.handleLayoutChange=function(e){},_this.handleDragDrop=function(e){var t=_this.state.layout,r=JSON.parse(e.dataTransfer.getData("menuItemToGrid")),n=r.key,o=r.url,a=r.text,i=r.style;t.push({i:""+n+t.length,x:2*t.length%12,y:1/0,w:2,h:9,type:"iframe",imgUrl:o,title:a,style:i}),_this.setState({layout:t})},_this.handleShellOnChange=function(e){var t=e.i,r=_this.state.layout;_this.setState({layout:(0,_lodash.reject)(r,{i:t})})},_this.render=function(){var e=_this.state.layout,t=_this.props.isEdit,r=void 0===t||t,n={className:"layout",cols:12,rowHeight:30,width:(document.documentElement.clientWidth||document.body.clientWidth)-256,margin:[10,10],onLayoutChange:_this.handleLayoutChange,isDraggable:r,isResizable:r};return _react2.default.createElement("div",{className:"Grid",onDrop:_this.handleDragDrop,onDragOver:function(e){return e.preventDefault()}},_react2.default.createElement(_reactGridLayout2.default,n,e.map(function(e){var t=e.i,n=e.type,o=e.imgUrl,a=e.title,i=e.path,l=e.style,u=void 0===l?{}:l,c="calc(100% - 30px)",s={key:t,"data-grid":e,style:Object.assign({},{zIndex:1,userSelect:"none"},u),title:a,onChange:_this.handleShellOnChange},_=r?_react2.default.createElement(_Shell2.default,s,_react2.default.createElement("img",{src:o,style:{width:"100%",height:c}})):_react2.default.createElement(_Shell2.default,s,_react2.default.createElement("iframe",{src:i,style:{border:"none",width:"100%",height:c,overflow:"auto"}}));return"iframe"==n?_:_react2.default.createElement(_Shell2.default,s,_react2.default.createElement("div",{style:{height:c},ref:function(e){return _this[t]=e}}))})))},_this.state={layout:[]},_this}return _inherits(Grid,_Component),Grid}(_react.Component);exports.default=Grid},74:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(46));r(75);var o=r(1),a=i(o);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.componentDidMount=function(){},r.handleOnChange=function(e){var t=r.props.onChange,n=r.props["data-grid"]||{};t&&t(n)},r.render=function(){var e=r.props,t=e.children,o=e.title;return a.default.createElement("div",r.props,a.default.createElement("div",{style:{background:"#ccc",height:30}},a.default.createElement(n.default,{type:"delete",theme:"outlined",style:{cursor:"pointer",float:"right",padding:5},onClick:r.handleOnChange}),a.default.createElement("span",null,o)),t)},r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),t}();t.default=l}}]);