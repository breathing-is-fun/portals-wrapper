(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{21:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),n=i(o),a=i(r(71));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){var t,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return r=o=l(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o.render=function(){return n.default.createElement("div",{className:"Display"},n.default.createElement(a.default,{isEdit:!1}))},l(o,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),e}();e.default=u},71:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactGridLayout=__webpack_require__(91),_reactGridLayout2=_interopRequireDefault(_reactGridLayout);__webpack_require__(96),__webpack_require__(97);var _Shell=__webpack_require__(74),_Shell2=_interopRequireDefault(_Shell);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Grid=function(_Component){function Grid(props){_classCallCheck(this,Grid);var _this=_possibleConstructorReturn(this,(Grid.__proto__||Object.getPrototypeOf(Grid)).call(this,props));return _this.componentDidMount=function(){_this.loadLayout(function(){var layout=_this.state.layout,pathArr=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=layout[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var item=_step.value,path=item.path,type=item.type;"iframe"!=type&&pathArr.push("import('"+path+"')")}}catch(t){_didIteratorError=!0,_iteratorError=t}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}pathArr="["+pathArr.toString()+"]",Promise.all(eval(""+pathArr)).then(function(t){for(var e=0;e<t.length;e++){var r=t[e].TestModule,o=layout[e].i,n=new r(_this[o]),a=n._moduleOnMount;a&&a.call(n)}})})},_this.loadLayout=function(t){fetch("../../../mock/layoutDatas.json").then(function(t){return t.json()}).then(function(e){var r=e.layout;_this.setState({layout:r},function(){return t&&t()})})},_this.handleLayoutChange=function(t){},_this.handleDragDrop=function(t){var e=_this.state.layout,r=JSON.parse(t.dataTransfer.getData("menuItemToGrid")),o=r.key,n=r.url,a=r.text;e.push({i:""+o+e.length,x:2*e.length%12,y:1/0,w:2,h:9,type:"iframe",imgUrl:n,title:a}),_this.setState({layout:e})},_this.render=function(){var t=_this.state.layout,e=_this.props.isEdit,r=void 0===e||e,o={className:"layout",cols:12,rowHeight:30,width:(document.documentElement.clientWidth||document.body.clientWidth)-256,margin:[10,10],onLayoutChange:_this.handleLayoutChange,isDraggable:r,isResizable:r};return _react2.default.createElement("div",{className:"Grid",onDrop:_this.handleDragDrop,onDragOver:function(t){return t.preventDefault()}},_react2.default.createElement(_reactGridLayout2.default,o,t.map(function(t){var e=t.i,o=t.type,n=t.imgUrl,a=t.title,i=t.path,l=_react2.default.createElement("div",{style:{background:"#ccc",height:30}},a),u="calc(100% - 30px)",c={key:e,"data-grid":t,style:{zIndex:1,userSelect:"none",border:"1px solid #F96"},title:l},s=r?_react2.default.createElement(_Shell2.default,c,_react2.default.createElement("img",{src:n,style:{width:"100%",height:u}})):_react2.default.createElement(_Shell2.default,c,_react2.default.createElement("iframe",{src:i,style:{border:"none",width:"100%",height:u,overflow:"auto"}}));return"iframe"==o?s:_react2.default.createElement(_Shell2.default,c,_react2.default.createElement("div",{style:{height:u},ref:function(t){return _this[e]=t}}))})))},_this.state={layout:[]},_this}return _inherits(Grid,_Component),Grid}(_react.Component);exports.default=Grid},74:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),n=function(t){return t&&t.__esModule?t:{default:t}}(o);r(75);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.componentDidMount=function(){},r.render=function(){var t=r.props,e=t.children,o=t.title;return n.default.createElement("div",r.props,o,e)},r.state={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),e}();e.default=a},75:function(t,e,r){var o=r(76);"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(32)(o,n);o.locals&&(t.exports=o.locals)},76:function(t,e,r){(t.exports=r(31)(!1)).push([t.i,".Shell{\r\n    border: 1px solid #F96;\r\n    user-select: none;\r\n}",""])}}]);