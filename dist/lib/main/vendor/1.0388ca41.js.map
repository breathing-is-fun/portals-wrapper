{"version":3,"sources":["webpack:///./src/modules/Wrapper/index.js"],"names":["Wrapper","props","componentDidMount","loadLayout","layout","state","pathArr","item","path","type","push","toString","Promise","all","eval","then","i","modules","length","TestModule","key","testModule","_moduleOnMount","call","fetch","result","json","setState","callback","handleLayoutChange","render","layoutProps","className","cols","rowHeight","width","document","documentElement","clientWidth","body","margin","onLayoutChange","map","imgUrl","height","background","ref","Component"],"mappings":"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","file":"vendor/1.0388ca41.js","sourcesContent":["/*\r\n * @Author: zy9@github.com/zy410419243\r\n * @Date: 2018-09-26 11:25:50\r\n * @Last Modified by: zy9\r\n * @Last Modified time: 2018-09-28 15:46:56\r\n */\r\nimport React, { Component } from 'react';\r\n\r\nimport GridLayout from 'react-grid-layout';\r\nimport 'react-grid-layout/css/styles.css';\r\nimport 'react-resizable/css/styles.css';\r\n\r\nexport default class Wrapper extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tlayout: [],\r\n\t\t};\r\n\t}\r\n\r\n    componentDidMount = () => {\r\n    \tthis.loadLayout(() => {\r\n    \t\tconst { layout } = this.state;\r\n    \t\tlet pathArr = [];\r\n\r\n    \t\tfor(let item of layout) {\r\n    \t\t\tconst { path, type } = item;\r\n\r\n    \t\t\ttype != 'iframe' && pathArr.push(`import('${ path }')`);\r\n    \t\t}\r\n    \t\tpathArr = `[${ pathArr.toString() }]`;\r\n\r\n    \t\t/* eslint-disable no-eval */\r\n    \t\tPromise.all(eval(`${ pathArr }`)).then(modules => {\r\n    \t\t\tfor(let i = 0; i < modules.length; i++) {\r\n    \t\t\t\tconst { TestModule } = modules[i];\r\n    \t\t\t\tconst { i: key } = layout[i];\r\n    \t\t\t\tconst testModule = new TestModule(this[key]);\r\n    \t\t\t\tconst { _moduleOnMount } = testModule;\r\n\r\n    \t\t\t\t_moduleOnMount && _moduleOnMount.call(testModule);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t});\r\n    }\r\n\r\n\tloadLayout = callback => {\r\n\t\tfetch('../../../mock/layoutDatas.json')\r\n\t\t\t.then(result => result.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tconst { layout } = result;\r\n\r\n\t\t\t\tthis.setState({ layout }, () => callback && callback());\r\n\t\t\t});\r\n\t}\r\n\r\n    handleLayoutChange = layout => {\r\n    \t// console.log(layout);\r\n    }\r\n\r\n    render = () => {\r\n    \tconst { layout } = this.state;\r\n\r\n    \tconst layoutProps = {\r\n    \t\tclassName: 'layout',\r\n    \t\t// layout,\r\n    \t\tcols: 12,\r\n    \t\trowHeight: 30,\r\n    \t\twidth: document.documentElement.clientWidth || document.body.clientWidth,\r\n    \t\tmargin: [10, 10],\r\n    \t\tonLayoutChange: this.handleLayoutChange\r\n    \t};\r\n\r\n    \treturn (\r\n    \t\t<div className='Wrapper'>\r\n    \t\t\t<GridLayout { ...layoutProps }>\r\n    \t\t\t\t{\r\n    \t\t\t\t\tlayout.map(item => {\r\n    \t\t\t\t\t\tconst { i, type, imgUrl } = item;\r\n\r\n    \t\t\t\t\t\treturn type == 'iframe' ? (\r\n    \t\t\t\t\t\t\t<div key={ i } data-grid={ item }>\r\n    \t\t\t\t\t\t\t\t<img src={ imgUrl } style={{ width: '100%', height: '100%' }} />\r\n    \t\t\t\t\t\t\t</div>\r\n    \t\t\t\t\t\t) : (\r\n    \t\t\t\t\t\t\t<div key={ i } data-grid={ item } style={{ background: '#ccc' }} ref={ ref => this[i] = ref } />\r\n    \t\t\t\t\t\t);\r\n    \t\t\t\t\t})\r\n    \t\t\t\t}\r\n    \t\t\t</GridLayout>\r\n    \t\t</div>\r\n    \t);\r\n    }\r\n}"],"sourceRoot":""}