(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{167:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactGridLayout=__webpack_require__(87),_reactGridLayout2=_interopRequireDefault(_reactGridLayout);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}__webpack_require__(92),__webpack_require__(93);var Grid=function(_Component){function Grid(props){_classCallCheck(this,Grid);var _this=_possibleConstructorReturn(this,(Grid.__proto__||Object.getPrototypeOf(Grid)).call(this,props));return _this.componentDidMount=function(){_this.loadLayout(function(){var layout=_this.state.layout,pathArr=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=layout[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var item=_step.value,path=item.path,type=item.type;"iframe"!=type&&pathArr.push("import('"+path+"')")}}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}pathArr="["+pathArr.toString()+"]",Promise.all(eval(""+pathArr)).then(function(e){for(var t=0;t<e.length;t++){var r=e[t].TestModule,n=layout[t].i,o=new r(_this[n]),a=o._moduleOnMount;a&&a.call(o)}})})},_this.loadLayout=function(e){fetch("../../../mock/layoutDatas.json").then(function(e){return e.json()}).then(function(t){var r=t.layout;_this.setState({layout:r},function(){return e&&e()})})},_this.handleLayoutChange=function(e){console.log(e)},_this.handleDragDrop=function(e){var t=_this.state.layout,r=JSON.parse(e.dataTransfer.getData("menuItemToGrid")),n=r.key,o=r.url,a=r.text;t.push({i:""+n+t.length,x:2*t.length%12,y:1/0,w:2,h:9,type:"iframe",imgUrl:o,title:a}),_this.setState({layout:t})},_this.render=function(){var e=_this.state.layout,t={className:"layout",cols:12,rowHeight:30,width:(document.documentElement.clientWidth||document.body.clientWidth)-256,margin:[10,10],onLayoutChange:_this.handleLayoutChange};return _react2.default.createElement("div",{className:"Grid",onDrop:_this.handleDragDrop,onDragOver:function(e){return e.preventDefault()}},_react2.default.createElement(_reactGridLayout2.default,t,e.map(function(e){var t=e.i,r=e.type,n=e.imgUrl,o=e.title;return"iframe"==r?_react2.default.createElement("div",{key:t,"data-grid":e,style:{zIndex:1}},_react2.default.createElement("div",{style:{height:30,background:"#F96"}},o),_react2.default.createElement("img",{src:n,style:{width:"100%",height:"calc(100% - 30px)"}})):_react2.default.createElement("div",{key:t,"data-grid":e,style:{background:"#ccc"},ref:function(e){return _this[t]=e}})})))},_this.state={layout:[]},_this}return _inherits(Grid,_Component),Grid}(_react.Component);exports.default=Grid},177:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(69)),o=c(r(94)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};r(198),r(98);var u=r(1),i=c(u),l=c(r(206));function c(e){return e&&e.__esModule?e:{default:e}}var f=o.default.SubMenu,s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.componentDidMount=function(){r.loadMenuDatas()},r.loadMenuDatas=function(){fetch("../../../mock/menuDatas.json").then(function(e){return e.json()}).then(function(e){var t=e.data,n=r.handleMenuGroup(t);r.setState({menuDatas:n,openKeys:0!=n.length?[n[0].group]:[]})})},r.handleMenuGroup=function(e){var t=[],r=[],n=[],o=!0,a=!1,u=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var c=i.value,f=c.group,s=c.groupName;n.push(JSON.stringify({group:f,groupName:s}))}}catch(e){a=!0,u=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}n=Array.from(new Set(n));var p=!0,d=!1,h=void 0;try{for(var _,y=n[Symbol.iterator]();!(p=(_=y.next()).done);p=!0){var m=_.value;r.push(JSON.parse(m))}}catch(e){d=!0,h=e}finally{try{!p&&y.return&&y.return()}finally{if(d)throw h}}var v=!0,b=!1,g=void 0;try{for(var w,O=r[Symbol.iterator]();!(v=(w=O.next()).done);v=!0){var E=w.value,j=(f=E.group,{groupName:s=E.groupName,group:f,children:[]}),C=!0,D=!1,S=void 0;try{for(var k,M=e[Symbol.iterator]();!(C=(k=M.next()).done);C=!0){var P=k.value;P.group==f&&j.children.push(P)}}catch(e){D=!0,S=e}finally{try{!C&&M.return&&M.return()}finally{if(D)throw S}}t.push(j)}}catch(e){b=!0,g=e}finally{try{!v&&O.return&&O.return()}finally{if(b)throw g}}return t},r.handleOnOpenChange=function(e){return r.setState({openKeys:e})},r.render=function(){var e=r.state,t=e.menuDatas,u={openKeys:e.openKeys,mode:"inline",onOpenChange:r.handleOnOpenChange};return i.default.createElement("div",{className:"Menu"},i.default.createElement(o.default,a({},u,{ref:function(e){return r.menuIns=e}}),t.map(function(e){var t=e.groupName,r=e.children,o=e.group,a=i.default.createElement("span",null,i.default.createElement(n.default,{type:"laptop",theme:"outlined"}),i.default.createElement("span",null,t));return i.default.createElement(f,{key:o,title:a},r.map(function(e){return i.default.createElement(l.default,{key:"dragMenuItem"+e.key,item:e})}))})))},r.state={menuDatas:[],openKeys:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),t}();t.default=s},20:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(103));r(162);var o=r(1),a=l(o),u=l(r(167)),i=l(r(177));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n.default.Content,n.default.Footer;var f=n.default.Sider,s=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),p=0;p<l;p++)s[p]=arguments[p];return r=o=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.render=function(){return a.default.createElement("div",{className:"Wrapper"},a.default.createElement(n.default,{style:{minHeight:"100vh"}},a.default.createElement(f,{theme:"light",width:"256"},a.default.createElement(i.default,null)),a.default.createElement(n.default,null,a.default.createElement(u.default,null))))},c(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),t}();t.default=s},206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(94));r(98);var o=r(1),a=u(o);function u(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return r=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleDragStart=function(e,t){e.dataTransfer.setData("menuItemToGrid",JSON.stringify(t))},o.render=function(){var e=o.props.item,t=e.draggable,r=void 0===t||t,u=e.text,i=e.key,l=(e.url,{key:"menuItem"+i,draggable:r,onDragStart:function(t){return o.handleDragStart(t,e)}});return a.default.createElement(n.default.Item,Object.assign({},o.props,l),u)},i(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),t}();t.default=l}}]);